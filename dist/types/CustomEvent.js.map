{"version":3,"file":"CustomEvent.js","sourceRoot":"","sources":["../../src/types/CustomEvent.ts"],"names":[],"mappings":";;;AAIA,MAAa,cAAc;IACzB,GAAG,CAAkB;IACrB,IAAI,CAAa;IACjB,GAAG,CAA0B;IAC7B,IAAI,CAAS;IACb,OAAO,CAAC,IAA2D;QACjE,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAc,EAAE,EAAC,GAAG,IAAI,EAAE,MAAM,EAAE,IAAI,EAAC,CAAC,CAAC;IAC5E,CAAC;IACD,YAAY,GAAoB,EAAE,GAAmD;QACnF,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;QACrB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;QACnB,IAAI,CAAC,IAAI,GAAG,aAAa,CAAC;IAC5B,CAAC;CACF;AAdD,wCAcC","sourcesContent":["import { NamespaceEnums, NamespaceData } from \"../../generated/namespaceData\";\r\nimport { DBI } from \"../DBI\";\r\n\r\nexport type TDBICustomEventOmitted<TNamespace extends NamespaceEnums, CEventName extends keyof NamespaceData[TNamespace][\"customEvents\"] = keyof NamespaceData[TNamespace][\"customEvents\"]> = Omit<DBICustomEvent<TNamespace, CEventName>, \"type\" | \"dbi\" | \"toJSON\" | \"trigger\">;\r\nexport class DBICustomEvent<TNamespace extends NamespaceEnums, CEventName extends keyof NamespaceData[TNamespace][\"customEvents\"] = keyof NamespaceData[TNamespace][\"customEvents\"]> {\r\n  dbi: DBI<TNamespace>;\r\n  name: CEventName;\r\n  map: {[key: string]: string};\r\n  type: string;\r\n  trigger(args: NamespaceData[TNamespace][\"customEvents\"][CEventName]) {\r\n    return this.dbi.client.emit(this.name as string, {...args, direct: true});\r\n  }\r\n  constructor(dbi: DBI<TNamespace>, cfg: TDBICustomEventOmitted<TNamespace, CEventName>) {\r\n    this.dbi = dbi;\r\n    this.name = cfg.name;\r\n    this.map = cfg.map;\r\n    this.type = \"CustomEvent\";\r\n  }\r\n}"]}