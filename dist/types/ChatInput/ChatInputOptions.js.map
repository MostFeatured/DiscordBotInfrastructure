{"version":3,"file":"ChatInputOptions.js","sourceRoot":"","sources":["../../../src/types/ChatInput/ChatInputOptions.ts"],"names":[],"mappings":"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","sourcesContent":["import Discord from \"discord.js\";\r\nimport { NamespaceEnums } from \"../../../generated/namespaceData\";\r\nimport { DBI } from \"../../DBI\";\r\nimport { IDBIBaseExecuteCtx } from \"../Interaction\";\r\n\r\nexport type TDBIValueName<T> = { value: T, name: string };\r\nexport type TDBIBaseOption = { name: string, description: string, required?: boolean };\r\n\r\nexport type TDBIMinMaxLength = { maxLength?: number, minLength?: number };\r\nexport type TDBIMinMaxValue = { maxValue?: number, minValue?: number };\r\n\r\nexport interface IDBICompleteCtx<TNamespace extends NamespaceEnums, TValueType = string | number> extends IDBIBaseExecuteCtx<TNamespace> { \r\n  interaction: Discord.AutocompleteInteraction;\r\n  value: TValueType;\r\n}\r\n\r\nexport class DBIChatInputOptions<TNamespace extends NamespaceEnums> {\r\n  dbi: DBI<TNamespace>;\r\n  constructor(dbi: DBI<TNamespace>) {\r\n    this.dbi = dbi;\r\n  }\r\n  stringAutocomplete(cfg: TDBIBaseOption & TDBIMinMaxLength & { onComplete(ctx: IDBICompleteCtx<TNamespace, string>): Promise<TDBIValueName<string>[]> }) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.String,\r\n      name: cfg.name,\r\n      autocomplete: true,\r\n      onComplete: cfg.onComplete,\r\n      description: cfg.description,\r\n      maxLength: cfg.maxLength,\r\n      minLength: cfg.minLength,\r\n      required: cfg.required\r\n    };\r\n  }\r\n  stringChoices(cfg: TDBIBaseOption & TDBIMinMaxLength & { choices: TDBIValueName<string>[] }) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.String,\r\n      name: cfg.name,\r\n      choices: cfg.choices,\r\n      description: cfg.description,\r\n      maxLength: cfg.maxLength,\r\n      minLength: cfg.minLength,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  string(cfg: TDBIBaseOption & TDBIMinMaxLength) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.String,\r\n      name: cfg.name,\r\n      description: cfg.description,\r\n      maxLength: cfg.maxLength,\r\n      minLength: cfg.minLength,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  numberAutocomplete(cfg: TDBIBaseOption & TDBIMinMaxValue & { onComplete(ctx: IDBICompleteCtx<TNamespace, string>): Promise<TDBIValueName<number>[]> }) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.Number,\r\n      name: cfg.name,\r\n      autocomplete: true,\r\n      onComplete: cfg.onComplete,\r\n      description: cfg.description,\r\n      maxValue: cfg.maxValue,\r\n      minValue: cfg.minValue,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  numberChoices(cfg: TDBIBaseOption & TDBIMinMaxValue & { choices: TDBIValueName<number>[] }) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.Number,\r\n      name: cfg.name,\r\n      choices: cfg.choices,\r\n      description: cfg.description,\r\n      maxValue: cfg.maxValue,\r\n      minValue: cfg.minValue,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  number(cfg: TDBIBaseOption & TDBIMinMaxValue) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.Number,\r\n      name: cfg.name,\r\n      description: cfg.description,\r\n      maxValue: cfg.maxValue,\r\n      minValue: cfg.minValue,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  integerAutocomplete(cfg: TDBIBaseOption & TDBIMinMaxValue & { onComplete(ctx: IDBICompleteCtx<TNamespace, string>): Promise<TDBIValueName<number>[]> }) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.Integer,\r\n      name: cfg.name,\r\n      autocomplete: true,\r\n      onComplete: cfg.onComplete,\r\n      description: cfg.description,\r\n      maxValue: cfg.maxValue,\r\n      minValue: cfg.minValue,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  integerChoices(cfg: TDBIBaseOption & TDBIMinMaxValue & { choices: TDBIValueName<number>[] }) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.Integer,\r\n      name: cfg.name,\r\n      choices: cfg.choices,\r\n      description: cfg.description,\r\n      maxValue: cfg.maxValue,\r\n      minValue: cfg.minValue,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  integer(cfg: TDBIBaseOption & TDBIMinMaxValue) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.Integer,\r\n      name: cfg.name,\r\n      description: cfg.description,\r\n      maxValue: cfg.maxValue,\r\n      minValue: cfg.minValue,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  boolean(cfg: TDBIBaseOption) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.Boolean,\r\n      name: cfg.name,\r\n      description: cfg.description,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  attachment(cfg: TDBIBaseOption) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.Attachment,\r\n      name: cfg.name,\r\n      description: cfg.description,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  channel(cfg: TDBIBaseOption & { channelTypes: Discord.ChannelType[] }) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.Channel,\r\n      name: cfg.name,\r\n      description: cfg.description,\r\n      channelTypes: cfg.channelTypes,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  role(cfg: TDBIBaseOption) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.Role,\r\n      name: cfg.name,\r\n      description: cfg.description,\r\n      required: cfg.required\r\n    }\r\n  }\r\n\r\n  mentionable(cfg: TDBIBaseOption) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.Mentionable,\r\n      name: cfg.name,\r\n      description: cfg.description,\r\n      required: cfg.required\r\n    };\r\n  }\r\n\r\n  user(cfg: TDBIBaseOption) {\r\n    return {\r\n      type: Discord.ApplicationCommandOptionType.User,\r\n      name: cfg.name,\r\n      description: cfg.description,\r\n      required: cfg.required\r\n    };\r\n  }\r\n}"]}